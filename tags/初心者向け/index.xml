<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>初心者向け on Xrzheaven</title><link>https://xrzhev.com/tags/%E5%88%9D%E5%BF%83%E8%80%85%E5%90%91%E3%81%91/</link><description>Recent content in 初心者向け on Xrzheaven</description><generator>Hugo -- gohugo.io</generator><language>ja-jp</language><copyright>xrzhev</copyright><lastBuildDate>Wed, 06 Apr 2022 20:12:19 +0900</lastBuildDate><atom:link href="https://xrzhev.com/tags/%E5%88%9D%E5%BF%83%E8%80%85%E5%90%91%E3%81%91/index.xml" rel="self" type="application/rss+xml"/><item><title>メールのドメイン認証まとめ</title><link>https://xrzhev.com/posts/2022-04-06/</link><pubDate>Wed, 06 Apr 2022 20:12:19 +0900</pubDate><guid>https://xrzhev.com/posts/2022-04-06/</guid><description>すでに枯れた技術なのにミドルウェアの設定がめんどくさいメールサーバー。
メールサーバーを作るとき、色々見ながら設定はするけどよくわからんドメイン認証。
新年度ということもあり、初心者でもメールサーバーを構築するにあたって使うであろうドメイン認証の一覧を簡単な説明を載せて書いておく。
各技術はそれ相応に深いもので、本ページだけでの理解は難しいため、適宜色々な解説サイトやRFCを読み込んで仕様を理解してほしい。
ドメイン認証とは メールの送付元ドメインが &amp;ldquo;本物&amp;rdquo; であることをチェックする為に使われている技術。
これはメールの仕様上、メールの送信元をユーザー側から見たときにある程度詐称できることからきている。
送信元メールサーバーから送付先メールサーバーに届けられるメールの中には宛先・送信者にまつわる2つの重要なデータが存在している。
それが エンベロープ と ヘッダー 。
上記の言葉については様々なサイトで解説しているので割愛するが、基本的にヘッダーを書き換えることでなりすましができる。
以下のプログラムは、なりすましメールを作ることができるもの。
#!/usr/bin/env python3 ########### ### 免責事項 ########### # # 本プログラムは検証・勉強用途のみに利用すること。 # 本プログラムを利用して発生したいかなる事象に対し著者は一切の責任を持たない。 # from smtplib import SMTP from email.mime.text import MIMEText # Envelope ENVELOPE_TO = &amp;#34;realreceiver@to.example.com&amp;#34; ENVELOPE_FROM = &amp;#34;realsender@from.example.com&amp;#34; # Header (Fake) HEADER_TO = &amp;#34;fakereceiver@fake.to.example.com&amp;#34; HEADER_FROM = &amp;#34;fakesender@fake.from.example.com&amp;#34; # SMTP Server SMTP_HOST = &amp;#34;smtp.example.com&amp;#34; SMTP_USER = &amp;#34;exampleuser&amp;#34; SMTP_PASS = &amp;#34;examplepass&amp;#34; # Header and Body body = &amp;#34;hogehoge&amp;#34; msg = MIMEText(body, &amp;#34;html&amp;#34;) msg[&amp;#34;Subject&amp;#34;] = &amp;#34;Fake Email&amp;#34; # 以下のTo, Fromを書き換えればなりすましが可能（メールヘッダー） msg[&amp;#34;To&amp;#34;] = HEADER_TO msg[&amp;#34;From&amp;#34;] = HEADER_FROM MESSAGE = msg.</description></item></channel></rss>